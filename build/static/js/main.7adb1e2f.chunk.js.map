{"version":3,"sources":["shared/components/Form/Button.js","shared/Util/validators.js","shared/components/Form/Input.js","shared/hooks/useForm.js","shared/hooks/useHttp.js","shared/context/auth-context.js","shared/components/UI/Backdrop/Backdrop.js","shared/components/UI/Modal/Modal.js","shared/components/UI/Modal/ErrorModal.js","shared/components/UI/Loading/LoadingSpinner.js","shared/components/Form/ImageUpload.js","places/pages/NewPlace.js","shared/Navigation/MainHeader.js","shared/Navigation/NavLinks.js","shared/Navigation/SideDrawer.js","shared/Navigation/MainNavigation.js","shared/components/UI/Card/Card.js","user/pages/Auth.js","shared/components/UI/Avatar/Avatar.js","user/components/UserItem.js","user/components/UserList.js","user/pages/Users.js","shared/components/UI/Map/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js","places/pages/UpdatePlace.js","App.js","index.js"],"names":["Button","props","href","className","size","inverse","danger","children","to","exact","type","onClick","disabled","VALIDATOR_MINLENGTH","val","validate","value","validators","isValid","validator","trim","length","test","inputReducer","state","action","isTouch","Input","useReducer","valid","inputState","dispatch","id","onInput","useEffect","changeHandler","event","preventDefault","target","touchHandler","element","placeholder","onChange","onBlur","rows","htmlFor","label","errorText","formReducer","formIsValid","inputId","inputs","useForm","initialInputs","initialFormValidity","formState","useCallback","inputData","formValidity","useHTTPClient","useState","loading","setLoading","error","setError","activeHttpRequest","useRef","sendRequest","url","method","body","headers","httpAbortCtrll","AbortController","current","push","fetch","signal","response","json","responseJSON","filter","reqCtrl","ok","Error","message","forEach","abortCtrl","abort","clearError","AuthContext","createContext","isLogged","userID","token","login","logout","Backdrop","ReactDOM","createPortal","document","getElementById","Overlay","content","style","headerClasse","header","onSubmit","e","contentClass","footerClass","footer","RectDOM","Modal","Fragment","show","onCancel","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","ErrorModal","onClear","LoadingSpinner","asOverlay","ImageUpload","filePickerRef","file","setFile","preview","setPreview","setValid","fileReader","FileReader","onload","result","readAsDataURL","display","accept","ref","chosenImage","fileValid","files","center","src","alt","click","NewPlace","authCtx","useContext","history","useHistory","title","address","description","image","form","inputHandler","placeHandler","formData","FormData","append","console","log","process","Authorization","MainHeader","NavLinks","SideDrawer","MainNavigation","drawer","setDrawer","closeDrawer","Card","i","Auth","email","password","setFormData","setLogin","authSubmitHandler","JSON","stringify","username","undefined","prevState","Avatar","width","height","UserItem","img","name","placeCount","UserList","items","map","user","key","place","Users","setUser","users","getUserRequest","Map","mapRef","zoom","window","ol","layers","layer","Tile","source","OSM","view","View","proj","fromLonLat","lng","lat","PlaceItem","setMap","confirm","setConfirm","closeMap","cancelDeleteWarning","confirmDelete","onDelete","coord","desc","creator","PlaceList","location","onDeletePlace","UserPlaces","userId","useParams","uid","places","setPlaces","getPlaces","deletedPlace","previousPlace","logoutTimer","UpdatePlace","placeId","setPlace","fetchPlace","placeUpdateSubmitHandler","App","routes","setToken","tokenExp","setTokenExp","setUserID","expDate","tokenExpDate","Date","getTime","localStorage","setItem","toISOString","removeItem","userDataStored","parse","getItem","remainingTime","setTimeout","clearTimeout","path","Provider","render"],"mappings":"wlBA0CeA,G,MArCA,SAAAC,GACb,OAAIA,EAAMC,KAEN,uBACEC,UAAS,yBAAoBF,EAAMG,MAAQ,UAAS,YAAIH,EAAMI,SAC5D,kBAAiB,YAAIJ,EAAMK,QAAU,kBACvCJ,KAAMD,EAAMC,MAEXD,EAAMM,UAITN,EAAMO,GAEN,kBAAC,IAAI,CACHA,GAAIP,EAAMO,GACVC,MAAOR,EAAMQ,MACbN,UAAS,yBAAoBF,EAAMG,MAAQ,UAAS,YAAIH,EAAMI,SAC5D,kBAAiB,YAAIJ,EAAMK,QAAU,mBAEtCL,EAAMM,UAKX,4BACEJ,UAAS,yBAAoBF,EAAMG,MAAQ,UAAS,YAAIH,EAAMI,SAC5D,kBAAiB,YAAIJ,EAAMK,QAAU,kBACvCI,KAAMT,EAAMS,KACZC,QAASV,EAAMU,QACfC,SAAUX,EAAMW,UAEfX,EAAMM,Y,eC3BAM,EAAsB,SAAAC,GAAG,MAAK,CACzCJ,KAV+B,YAW/BI,IAAKA,IAUMC,EAAW,SAACC,EAAOC,GAC9B,IACkC,EAD9BC,GAAU,EAAK,cACKD,GAAU,IAAlC,2BAAoC,CAAC,IAA1BE,EAAS,QAxBS,YAyBvBA,EAAUT,OACZQ,EAAUA,GAAWF,EAAMI,OAAOC,OAAS,GAzBhB,cA2BzBF,EAAUT,OACZQ,EAAUA,GAAWF,EAAMI,OAAOC,QAAUF,EAAUL,KA3B3B,cA6BzBK,EAAUT,OACZQ,EAAUA,GAAWF,EAAMI,OAAOC,QAAUF,EAAUL,KA7BjC,QA+BnBK,EAAUT,OACZQ,EAAUA,IAAYF,GAASG,EAAUL,KA/BpB,QAiCnBK,EAAUT,OACZQ,EAAUA,IAAYF,GAASG,EAAUL,KAjClB,UAmCrBK,EAAUT,OACZQ,EAAUA,GAAW,iBAAiBI,KAAKN,KAE9C,8BACD,OAAOE,GCvCHK,G,MAAe,SAACC,EAAOC,GAC3B,OAAQA,EAAOf,MACb,IAAK,SACH,OAAO,2BACFc,GAAK,IACRR,MAAOS,EAAOX,IACdI,QAASH,EAASU,EAAOX,IAAKW,EAAOR,cAEzC,IAAK,QACH,OAAO,2BACFO,GAAK,IACRE,SAAS,IAGb,QACE,OAAOF,KAmEEG,EA/DD,SAAC1B,GACb,MAA+B2B,qBAAWL,EAAc,CACtDP,MAAOf,EAAMe,OAAS,GACtBU,SAAS,EACTR,QAASjB,EAAM4B,QAAS,IACxB,mBAJKC,EAAU,KAAEC,EAAQ,KAMnBC,EAAgB/B,EAAhB+B,GAAIC,EAAYhC,EAAZgC,QACJjB,EAAmBc,EAAnBd,MAAOE,EAAYY,EAAZZ,QAEfgB,qBAAU,WACRD,EAAQD,EAAIhB,EAAOE,KAClB,CAACc,EAAIhB,EAAOE,EAASe,IAExB,IAAME,EAAgB,SAACC,GACrBA,EAAMC,iBAENN,EAAS,CACPrB,KAAM,SACNI,IAAKsB,EAAME,OAAOtB,MAClBC,WAAYhB,EAAMgB,cAIhBsB,EAAe,WACnBR,EAAS,CACPrB,KAAM,WAIJ8B,EACc,UAAlBvC,EAAMuC,QACJ,2BACER,GAAI/B,EAAM+B,GACVtB,KAAMT,EAAMS,KACZ+B,YAAaxC,EAAMwC,YACnBC,SAAUP,EACVnB,MAAOc,EAAWd,MAClB2B,OAAQJ,IAGV,8BACEP,GAAI/B,EAAM+B,GACVY,KAAM3C,EAAM2C,MAAQ,EACpBF,SAAUP,EACVnB,MAAOc,EAAWd,MAClB2B,OAAQJ,IAId,OACE,yBACEpC,UAAS,wBACN2B,EAAWZ,SAAWY,EAAWJ,SAAW,0BAG/C,2BAAOmB,QAAS5C,EAAM+B,IAAK/B,EAAM6C,OAChCN,GACCV,EAAWZ,SAAWY,EAAWJ,SAAW,2BAAIzB,EAAM8C,a,QChFxDC,EAAc,SAACxB,EAAOC,GAC1B,OAAQA,EAAOf,MACb,IAAK,eACH,IAAIuC,GAAc,EAClB,IAAK,IAAMC,KAAW1B,EAAM2B,OACrB3B,EAAM2B,OAAOD,KAIhBD,EADEC,IAAYzB,EAAOyB,QACPD,GAAexB,EAAOP,QAEtB+B,GAAezB,EAAM2B,OAAOD,GAAShC,SAGvD,OAAO,2BACFM,GAAK,IACR2B,OAAO,2BACF3B,EAAM2B,QAAM,kBACd1B,EAAOyB,QAAU,CAAElC,MAAOS,EAAOT,MAAOE,QAASO,EAAOP,WAE3DA,QAAS+B,IAEb,IAAK,WACH,MAAO,CACLE,OAAQ1B,EAAO0B,OACfjC,QAASO,EAAOwB,aAEpB,QACE,OAAOzB,IAIA4B,EAAU,SAACC,EAAeC,GACrC,MAA8B1B,qBAAWoB,EAAa,CACpDG,OAAQE,EACRnC,QAASoC,IACT,mBAHKC,EAAS,KAAExB,EAAQ,KAsB1B,MAAO,CAACwB,EAjBaC,uBAAY,SAACxB,EAAIhB,EAAOE,GAC3Ca,EAAS,CACPrB,KAAM,eACNM,MAAOA,EACPE,QAASA,EACTgC,QAASlB,MAEV,IAEiBwB,uBAAY,SAACC,EAAWC,GAC1C3B,EAAS,CACPrB,KAAM,WACNyC,OAAQM,EACRR,YAAaS,MAEd,M,aCtDL,06MACO,IAAMC,EAAgB,WAC3B,MAA8BC,oBAAS,GAAM,mBAAtCC,EAAO,KAAEC,EAAU,KAC1B,EAA0BF,qBAAU,mBAA7BG,EAAK,KAAEC,EAAQ,KAEhBC,EAAoBC,iBAAO,IAE3BC,EAAcX,sBAAW,uCAC7B,WAAOY,GAAG,6FAIuC,OAJrCC,EAAM,+BAAG,MAAOC,EAAI,+BAAG,KAAMC,EAAO,+BAAG,GACjDT,GAAW,GAELU,EAAiB,IAAIC,gBAC3BR,EAAkBS,QAAQC,KAAKH,GAAgB,kBAGtBI,MAAMR,EAAK,CAChCC,SACAE,UACAD,OACAO,OAAQL,EAAeK,SACtB,KAAD,EALY,OAARC,EAAQ,iBAOaA,EAASC,OAAO,KAAD,GAIxC,GAJIC,EAAY,OAElBf,EAAkBS,QAAUT,EAAkBS,QAAQO,QACpD,SAACC,GAAO,OAAKA,IAAYV,KAGtBM,EAASK,GAAG,CAAD,sBACR,IAAIC,MAAMJ,EAAaK,SAAS,KAAD,GAIvB,OADhBvB,GAAW,GACXE,GAAS,GAAO,kBAETgB,GAAY,QAGK,MAHL,0BAEnBlB,GAAW,GACXE,EAAS,KAAMqB,SAAS,+DAG3B,mDAlC4B,GAmC7B,IAcF,OAPAnD,qBAAU,WAER,OAAO,WACL+B,EAAkBS,QAAQY,SAAQ,SAACC,GAAS,OAAKA,EAAUC,cAE5D,IAEI,CAAE3B,UAASE,QAAOI,cAAasB,WAXnB,WACjBzB,EAAS,SC7CA0B,EAAcC,wBAAc,CACvCC,UAAU,EACVC,OAAQ,KACRC,MAAO,KACPC,MAAO,aACPC,OAAQ,eCKKC,G,MAPE,SAAChG,GAChB,OAAOiG,IAASC,aACd,yBAAKhG,UAAU,WAAWQ,QAASV,EAAMU,UACzCyF,SAASC,eAAe,oB,QCAtBC,G,MAAU,SAACrG,GACf,IAAMsG,EACJ,yBAAKpG,UAAS,gBAAWF,EAAME,WAAaqG,MAAOvG,EAAMuG,OACvD,4BAAQrG,UAAS,wBAAmBF,EAAMwG,eACxC,4BAAKxG,EAAMyG,SAGb,0BACEC,SAAU1G,EAAM0G,SAAW1G,EAAM0G,SAAW,SAACC,GAAC,OAAKA,EAAEvE,mBAErD,yBAAKlC,UAAS,yBAAoBF,EAAM4G,eACrC5G,EAAMM,UAGT,4BAAQJ,UAAS,wBAAmBF,EAAM6G,cACvC7G,EAAM8G,UAKf,OAAOC,IAAQb,aAAaI,EAASH,SAASC,eAAe,iBAoBhDY,EAjBD,SAAChH,GACb,OACE,kBAAC,IAAMiH,SAAQ,KACZjH,EAAMkH,MAAQ,kBAAC,EAAQ,CAACxG,QAASV,EAAMmH,WACxC,kBAACC,EAAA,EAAa,CACZC,GAAIrH,EAAMkH,KACVI,cAAY,EACZC,eAAa,EACbC,QAAS,IACTC,WAAW,SAEX,kBAAC,EAAYzH,MCxBN0H,EAbI,SAAC1H,GAClB,OACE,kBAAC,EAAK,CACJmH,SAAUnH,EAAM2H,QAChBlB,OAAO,qBACPS,OAAQlH,EAAM8D,MACdgD,OAAQ,kBAAC,EAAM,CAACpG,QAASV,EAAM2H,SAAS,SAExC,2BAAI3H,EAAM8D,SCDD8D,G,MARQ,SAAA5H,GACrB,OACE,yBAAKE,UAAS,UAAKF,EAAM6H,WAAa,6BACpC,yBAAK3H,UAAU,qBC8DN4H,G,MAhEK,SAAC9H,GACnB,IAAM+H,EAAgB9D,mBAEtB,EAAwBN,qBAAU,mBAA3BqE,EAAI,KAAEC,EAAO,KACpB,EAA8BtE,qBAAU,mBAAjCuE,EAAO,KAAEC,EAAU,KAC1B,EAA0BxE,oBAAS,GAAM,mBAAlC/B,EAAK,KAAEwG,EAAQ,KAEtBnG,qBAAU,WACR,GAAK+F,EAAL,CAGA,IAAMK,EAAa,IAAIC,WAEvBD,EAAWE,OAAS,WAClBJ,EAAWE,EAAWG,SAExBH,EAAWI,cAAcT,MACxB,CAACA,IAuBJ,OACE,yBAAK9H,UAAU,gBACb,2BACEO,KAAK,OACLsB,GAAI/B,EAAM+B,GACVwE,MAAO,CAAEmC,QAAS,QAClBC,OAAO,oBACPC,IAAKb,EACLtF,SAzBqB,SAACN,GAE1B,IAAI0G,EADJ1G,EAAMC,iBAEN,IAAI0G,EAAYlH,EACZO,EAAME,OAAO0G,OAAuC,IAA9B5G,EAAME,OAAO0G,MAAM3H,QAC3CyH,EAAc1G,EAAME,OAAO0G,MAAM,GACjCd,EAAQY,GACRT,GAAS,GACTU,GAAY,IAEZV,GAAS,GACTU,GAAU,IAGZ9I,EAAMgC,QAAQhC,EAAM+B,GAAI8G,EAAaC,MAanC,yBAAK5I,UAAS,uBAAkBF,EAAMgJ,QAAU,WAC9C,yBAAK9I,UAAU,yBACZgI,GAAW,yBAAKe,IAAKf,EAASgB,IAAI,aACjChB,GAAW,2BAAG,2BAElB,kBAAC,EAAM,CAACzH,KAAK,SAASC,QApCH,WACvBqH,EAActD,QAAQ0E,UAmC+B,uBAIjDvH,GAAS,2BAAI5B,EAAM8C,c,mBC/D3B,06MAsBA,IAkGesG,EAlGE,WACf,MAAoD1F,IAA5CE,EAAO,EAAPA,QAASE,EAAK,EAALA,MAAOI,EAAW,EAAXA,YAAasB,EAAU,EAAVA,WAC/B6D,EAAUC,qBAAW7D,GACrB8D,EAAUC,cAEhB,EAA6BrG,EAC3B,CACEsG,MAAO,CACL1I,MAAO,GACPE,SAAS,GAEXyI,QAAS,CACP3I,MAAO,GACPE,SAAS,GAEX0I,YAAa,CACX5I,MAAO,GACPE,SAAS,GAEX2I,MAAO,CACL7I,MAAO,KACPE,SAAS,KAGb,GACD,mBApBM4I,EAAI,KAAEC,EAAY,KAsBnBC,EAAY,uCAAG,WAAO5H,GAAK,uEAYF,OAX7BA,EAAMC,iBAAiB,UAGf4H,EAAW,IAAIC,UAEZC,OAAO,QAASL,EAAK3G,OAAOuG,MAAM1I,OAC3CiJ,EAASE,OAAO,cAAeL,EAAK3G,OAAOyG,YAAY5I,OACvDiJ,EAASE,OAAO,UAAWb,EAAQzD,QACnCoE,EAASE,OAAO,UAAWL,EAAK3G,OAAOwG,QAAQ3I,OAC/CiJ,EAASE,OAAO,QAASL,EAAK3G,OAAO0G,MAAM7I,OAE3CoJ,QAAQC,IAAIf,EAAQxD,OAAO,UAErB3B,EAAY,GAAD,OACZmG,4BAAgC,YACnC,OACAL,EACA,CACEM,cAAe,UAAYjB,EAAQxD,QAErC,KAAD,GACD0D,EAAQ7E,KAAK,KAAK,kDAElByF,QAAQC,IAAI,EAAD,IAAM,0DAEpB,gBA1BiB,sCA4BlB,OACE,kBAAC,IAAMnD,SAAQ,KACb,kBAAC,EAAU,CAACU,QAASnC,EAAY1B,MAAOA,IACxC,0BAAM5D,UAAU,aAAawG,SAAUqD,GACpCnG,GAAW,kBAAC,EAAc,CAACiE,WAAS,IACrC,kBAAC,EAAK,CACJtF,QAAQ,QACRR,GAAG,QACHtB,KAAK,OACLoC,MAAM,WACN7B,WAAY,CVhFkB,CAAEP,KARX,YUyFrBqC,UAAU,sBACVd,QAAS8H,IAEX,kBAAC,EAAK,CACJvH,QAAQ,QACRR,GAAG,UACHtB,KAAK,OACLoC,MAAM,UACN7B,WAAY,CVzFkB,CAAEP,KARX,YUkGrBqC,UAAU,uBACVd,QAAS8H,IAEX,kBAAC,EAAK,CACJ/H,GAAG,cACHc,MAAM,yBACN7B,WAAY,CAACJ,EAAoB,IACjCkC,UAAU,iDACVd,QAAS8H,IAEX,kBAAC,EAAW,CACV/H,GAAG,QACHC,QAAS8H,EACThH,UAAU,gCAEZ,kBAAC,EAAM,CAACrC,KAAK,SAASE,UAAWkJ,EAAK5I,SAAS,oBCzGxCsJ,G,MAJI,SAACvK,GAClB,OAAO,4BAAQE,UAAU,eAAeF,EAAMM,YCwCjCkK,G,YAlCE,WACf,IAAMnB,EAAUC,qBAAW7D,GAE3B,OACE,wBAAIvF,UAAU,aACZ,4BACE,kBAAC,IAAO,CAACK,GAAG,IAAIC,OAAK,GAAC,WAIvB6I,EAAQ1D,UACP,4BACE,kBAAC,IAAO,CAACpF,GAAE,WAAM8I,EAAQzD,OAAM,YAAW,eAG7CyD,EAAQ1D,UACP,4BACE,kBAAC,IAAO,CAACpF,GAAG,YAAW,6BAGzB8I,EAAQ1D,UACR,4BACE,kBAAC,IAAO,CAACpF,GAAG,SAAQ,SAGvB8I,EAAQ1D,UACP,4BACE,4BAAQjF,QAAS2I,EAAQtD,QAAQ,gBCT5B0E,G,MArBI,SAACzK,GAClB,IAAMsG,EACJ,kBAACc,EAAA,EAAa,CACZC,GAAIrH,EAAMkH,KACVM,QAAS,IACTC,WAAW,gBACXH,cAAY,EACZC,eAAa,GAEb,2BAAOrH,UAAU,cAAcQ,QAASV,EAAMU,SAC3CV,EAAMM,WAKb,OAAO2F,IAASC,aACdI,EACAH,SAASC,eAAe,oBC2BbsE,EA1CQ,SAAC1K,GACtB,MAA4B2D,oBAAS,GAAM,mBAApCgH,EAAM,KAAEC,EAAS,KAQlBC,EAAc,SAAC1I,GACnBA,EAAMC,iBAENwI,GAAU,IAGZ,OACE,kBAAC,IAAM3D,SAAQ,KACZ0D,GAAU,kBAAC,EAAQ,CAACjK,QAASmK,IAE9B,kBAAC,EAAU,CAAC3D,KAAMyD,EAAQjK,QAASmK,GACjC,yBAAK3K,UAAU,+BACb,kBAAC,EAAQ,QAIb,kBAAC,EAAU,KACT,4BAAQA,UAAU,4BAA4BQ,QAvBjC,SAACyB,GAClBA,EAAMC,iBAENwI,GAAU,KAqBJ,+BACA,+BACA,gCAEF,kBAAC,IAAI,CAACrK,GAAG,KACP,wBAAIL,UAAU,0BAAyB,cAEzC,yBAAKA,UAAU,+BACb,kBAAC,EAAQ,UCjCJ4K,G,MARF,SAAA9K,GACX,OACE,yBAAKE,UAAS,eAAUF,EAAME,WAAaqG,MAAOvG,EAAMuG,OACrDvG,EAAMM,Y,mBCNb,kmGAAAyK,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,sQAoBA,IAmJeC,EAnJF,WACX,MAA0C7H,EACxC,CACE8H,MAAO,CACLlK,MAAO,GACPE,SAAS,GAEXiK,SAAU,CACRnK,MAAO,GACPE,SAAS,KAGb,GACD,mBAZM4I,EAAI,KAAEC,EAAY,KAAEqB,EAAW,KActC,EAA0BxH,oBAAS,GAAK,mBAAjCmC,EAAK,KAAEsF,EAAQ,KAEtB,EAAoD1H,IAA5CE,EAAO,EAAPA,QAASE,EAAK,EAALA,MAAOI,EAAW,EAAXA,YAAasB,EAAU,EAAVA,WAE/B6D,EAAUC,qBAAW7D,GAgCrB4F,EAAiB,uCAAG,WAAO1E,GAAC,2EACb,GAAnBA,EAAEvE,kBAEE0D,EAAM,CAAD,yCAEkB5B,EAAY,GAAD,OAC7BmG,4BAAgC,gBACnC,OACAiB,KAAKC,UAAU,CACbN,MAAOpB,EAAK3G,OAAO+H,MAAMlK,MACzBmK,SAAUrB,EAAK3G,OAAOgI,SAASnK,QAEjC,CAAE,eAAgB,qBAClB,KAAD,EARK8D,EAAQ,OASdwE,EAAQvD,MAAMjB,EAASe,OAAQf,EAASgB,OAAO,gDAE/CsE,QAAQC,IAAI,EAAD,IAAM,gCAQiC,OARjC,WAIXJ,EAAW,IAAIC,UACZC,OAAO,QAASL,EAAK3G,OAAO+H,MAAMlK,OAC3CiJ,EAASE,OAAO,WAAYL,EAAK3G,OAAOsI,SAASzK,OACjDiJ,EAASE,OAAO,WAAYL,EAAK3G,OAAOgI,SAASnK,OACjDiJ,EAASE,OAAO,QAASL,EAAK3G,OAAO0G,MAAM7I,OAAO,UAE3BmD,EAAY,GAAD,OAC7BmG,4BAAgC,iBACnC,OACAL,GACA,KAAD,GAJKnF,EAAQ,OAMdwE,EAAQvD,MAAMjB,EAASe,OAAQf,EAASgB,OAAO,oHAGpD,gBAnCsB,sCAqCvB,OACE,kBAAC,IAAMoB,SAAQ,KACb,kBAAC,EAAU,CAACnD,MAAOA,EAAO6D,QAASnC,IACnC,kBAAC,EAAI,CAACtF,UAAU,kBACb0D,GAAW,kBAAC,EAAc,CAACiE,WAAS,IACrC,4BAAK/B,EAAQ,YAAc,iBAC3B,6BACA,0BAAMY,SAAU2E,IACZvF,GACA,kBAAC,EAAK,CACJvD,QAAQ,QACRR,GAAG,WACHtB,KAAK,OACLoC,MAAM,aACN7B,WAAY,ChBnHc,CAAEP,KARX,YgB4HjBqC,UAAU,mCACVd,QAAS8H,IAGb,kBAAC,EAAK,CACJ/H,GAAG,QACHQ,QAAQ,QACR9B,KAAK,QACLoC,MAAM,SACN7B,WAAY,ChBjHc,CAAEP,KAfX,UgBiIjBqC,UAAU,gDACVd,QAAS8H,IAEX,kBAAC,EAAK,CACJ/H,GAAG,WACHQ,QAAQ,QACR9B,KAAK,WACLoC,MAAM,WACN7B,WAAY,CAACJ,EAAoB,IACjCkC,UAAU,2CACVd,QAAS8H,KAEThE,GACA,kBAAC,EAAW,CACVkD,QAAM,EACNjH,GAAG,QACHC,QAAS8H,EACThH,UAAU,uCAGd,kBAAC,EAAM,CAACrC,KAAK,SAASE,UAAWkJ,EAAK5I,SACnC6E,EAAQ,WAAa,iBAG1B,kBAAC,EAAM,CAAC1F,SAAO,EAACM,QApHA,WACfoF,EAUHqF,EAAY,2BAELtB,EAAK3G,QAAM,IACdsI,SAAU,CACRzK,MAAO,GACPE,SAAS,GAEX2I,MAAO,CACL7I,MAAO,KACPE,SAAS,MAGb,GArBFkK,EAAY,2BAELtB,EAAK3G,QAAM,IACdsI,cAAUC,EACV7B,WAAO6B,IAET5B,EAAK3G,OAAO+H,MAAMhK,SAAW4I,EAAK3G,OAAOgI,SAASjK,SAkBtDmK,GAAS,SAACM,GAAS,OAAMA,OA2FlB5F,EACG,qCACA,wCCjJC6F,G,MAZA,SAAA3L,GACb,OACE,yBAAKE,UAAS,iBAAYF,EAAME,WAAaqG,MAAOvG,EAAMuG,OACxD,yBACE0C,IAAKjJ,EAAM4J,MACXV,IAAKlJ,EAAMkJ,IACX3C,MAAO,CAAEqF,MAAO5L,EAAM4L,MAAOC,OAAQ7L,EAAM4L,YCsBpCE,G,MAvBE,SAAC9L,GAChB,OACE,wBAAIE,UAAU,aACZ,kBAAC,EAAI,CAACA,UAAU,sBACd,kBAAC,IAAI,CAACK,GAAE,WAAMP,EAAM+B,GAAE,YACpB,yBAAK7B,UAAU,oBACb,kBAAC,EAAM,CACL0J,MAAK,UAAKS,wBAAmC,YAAIrK,EAAM+L,KACvD7C,IAAKlJ,EAAMgM,QAGf,yBAAK9L,UAAU,mBACb,4BAAKF,EAAMgM,MACX,4BACGhM,EAAMiM,WAAW,IAAuB,IAArBjM,EAAMiM,WAAmB,OAAS,cCUrDC,G,MA1BE,SAAClM,GAChB,OAA2B,IAAvBA,EAAMmM,MAAM/K,OAEZ,kBAAC,EAAI,CAAClB,UAAU,UACd,4BAAI,iCAKN,wBAAIA,UAAU,cACXF,EAAMmM,MAAMC,KAAI,SAACC,GAChB,OACE,kBAAC,EAAQ,CACPC,IAAKD,EAAKtK,GACVA,GAAIsK,EAAKtK,GACTgK,IAAKM,EAAKzC,MACVoC,KAAMK,EAAKb,SACXS,WAAYI,EAAKE,MAAMnL,e,aCvBrC,06MAOA,IA8BeoL,EA9BD,WACZ,MAAwB7I,qBAAU,mBAA3B0I,EAAI,KAAEI,EAAO,KACpB,EAAoD/I,IAA5CE,EAAO,EAAPA,QAASE,EAAK,EAALA,MAAOI,EAAW,EAAXA,YAAasB,EAAU,EAAVA,WAerC,OAZAvD,qBAAU,YACY,uCAAG,6GAEIiC,EAAY,GAAD,OAAImG,4BAAgC,WAAU,KAAD,EAAzExF,EAAQ,OAEd4H,EAAQ5H,EAAS6H,OAAO,uGAE3B,kBANmB,mCAQpBC,KACC,CAACzI,IAGF,kBAAC,IAAM+C,SAAQ,KACb,kBAAC,EAAU,CAACnD,MAAOA,EAAO6D,QAASnC,IAClC5B,GACC,yBAAK1D,UAAU,UACb,kBAAC,EAAc,QAGjB0D,GAAWyI,GAAQ,kBAAC,EAAQ,CAACF,MAAOE,MCC7BO,G,YA9BH,SAAC5M,GACX,IAAM6M,EAAS5I,mBAEP+E,EAAiBhJ,EAAjBgJ,OAAQ8D,EAAS9M,EAAT8M,KAiBhB,OAfA7K,qBAAU,WACR,IAAI8K,OAAOC,GAAGJ,IAAI,CAChBvK,OAAQwK,EAAOpI,QAAQ1C,GACvBkL,OAAQ,CACN,IAAIF,OAAOC,GAAGE,MAAMC,KAAK,CACvBC,OAAQ,IAAIL,OAAOC,GAAGI,OAAOC,OAGjCC,KAAM,IAAIP,OAAOC,GAAGO,KAAK,CACvBvE,OAAQ+D,OAAOC,GAAGQ,KAAKC,WAAW,CAACzE,EAAO0E,IAAK1E,EAAO2E,MACtDb,KAAMA,QAGT,CAAC9D,EAAQ8D,IAGV,yBACElE,IAAKiE,EACL3M,UAAS,cAASF,EAAME,WACxBqG,MAAOvG,EAAMuG,MACbxE,GAAG,U,aC5BT,06MAgBA,IA2Ge6L,EA3GG,SAAC5N,GACjB,MAAsB2D,oBAAS,GAAM,mBAA9ByI,EAAG,KAAEyB,EAAM,KAClB,EAAoDnK,IAA5CE,EAAO,EAAPA,QAASE,EAAK,EAALA,MAAOI,EAAW,EAAXA,YAAasB,EAAU,EAAVA,WACrC,EAA8B7B,oBAAS,GAAM,mBAAtCmK,EAAO,KAAEC,EAAU,KAEpB1E,EAAUC,qBAAW7D,GAMrBuI,EAAW,WACfH,GAAO,IAOHI,EAAsB,WAC1BF,GAAW,IAGPG,EAAa,uCAAG,8EAGO,OAF3BH,GAAW,GAEX5D,QAAQC,IAAIf,EAAQxD,OAAO,kBAGnB3B,EAAY,GAAD,OACZmG,4BAAgC,mBAAWrK,EAAM+B,IACpD,SACA,KACA,CAAEuI,cAAe,UAAYjB,EAAQxD,QACrC,KAAD,EACD7F,EAAMmO,SAASnO,EAAM+B,IAAI,yGAE5B,kBAdkB,mCAgBnB,OACE,kBAAC,IAAMkF,SAAQ,KACb,kBAAC,EAAU,CAACnD,MAAOA,EAAO6D,QAASnC,IACnC,kBAAC,EAAK,CACJ0B,KAAMkF,EACNjF,SAAU6G,EACVvH,OAAQzG,EAAM0J,QACd9C,aAAa,4BACbC,YAAY,4BACZC,OAAQ,kBAAC,EAAM,CAACpG,QAASsN,GAAU,iBAEnC,yBAAK9N,UAAU,iBACb,kBAAC,EAAG,CAAC8I,OAAQhJ,EAAMoO,MAAOtB,KAAM,OAGpC,kBAAC,EAAK,CACJ5F,KAAM4G,EACN3G,SAAU8G,EACVxH,OAAO,sBACPI,YAAY,4BACZC,OACE,kBAAC,IAAMG,SAAQ,KACb,kBAAC,EAAM,CAAC7G,SAAO,EAACM,QAASuN,GAAqB,gBAG9C,kBAAC,EAAM,CAAC5N,QAAM,EAACK,QAASwN,GAAe,gBAM3C,2BAAG,iDAEL,wBAAIhO,UAAU,cACZ,kBAAC,EAAI,CAACA,UAAU,uBACb0D,GAAW,kBAAC,EAAc,MAC3B,yBAAK1D,UAAU,qBACb,yBACE+I,IAAG,UAAKoB,wBAAmC,YAAIrK,EAAM4J,OACrDV,IAAKlJ,EAAMyJ,SAIf,yBAAKvJ,UAAU,oBACb,4BAAKF,EAAMyJ,OACX,4BAAKzJ,EAAM0J,SACX,2BAAI1J,EAAMqO,OAGZ,yBAAKnO,UAAU,uBACb,kBAAC,EAAM,CAACE,SAAO,EAACM,QAlFV,WACdmN,GAAO,KAiFmC,kBAGjCxE,EAAQzD,SAAW5F,EAAMsO,SACxB,kBAAC,EAAM,CAAC/N,GAAE,kBAAaP,EAAM+B,KAAM,kBAEpCsH,EAAQzD,SAAW5F,EAAMsO,SACxB,kBAAC,EAAM,CAACjO,QAAM,EAACK,QAjFL,WACpBqN,GAAW,KAgFsC,sBCvEtCQ,G,MAlCG,SAACvO,GACjB,OAA2B,IAAvBA,EAAMmM,MAAM/K,OAEZ,yBAAKlB,UAAU,qBACb,kBAAC,EAAI,KACH,4BAAI,uBACJ,kBAAC,EAAM,CAACK,GAAG,eAAc,6BAQ/B,wBAAIL,UAAU,cACXF,EAAMmM,MAAMC,KAAI,SAACG,GAChB,OACE,kBAAC,EAAS,CACRD,IAAKC,EAAMxK,GACXA,GAAIwK,EAAMxK,GACV6H,MAAO2C,EAAM3C,MACbH,MAAO8C,EAAM9C,MACb4E,KAAM9B,EAAM5C,YACZD,QAAS6C,EAAM7C,QACf4E,QAAS/B,EAAM+B,QACfF,MAAO7B,EAAMiC,SACbL,SAAUnO,EAAMyO,sB,aCjC5B,kmGAAA1D,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,sQAQA,IAuCe2D,EAvCI,WACjB,IAAMC,EAASC,cAAYC,IAC3B,EAA4BlL,qBAAU,mBAA/BmL,EAAM,KAAEC,EAAS,KACxB,EAAoDrL,IAA5CE,EAAO,EAAPA,QAASE,EAAK,EAALA,MAAOI,EAAW,EAAXA,YAAasB,EAAU,EAAVA,WAErCvD,qBAAU,YACO,uCAAG,6GAESiC,EAAY,GAAD,OAC7BmG,4BAAgC,wBAAgBsE,IACnD,KAAD,EAFK9J,EAAQ,OAGdkK,EAAUlK,EAASiK,QAAQ,uGAE9B,kBAPc,mCASfE,KACC,CAAC9K,EAAayK,IAQjB,OACE,kBAAC,IAAM1H,SAAQ,KACb,kBAAC,EAAU,CAACnD,MAAOA,EAAO6D,QAASnC,IAClC5B,GACC,yBAAK1D,UAAU,UACb,kBAAC,EAAc,QAGjB0D,GAAWkL,GACX,kBAAC,EAAS,CAAC3C,MAAO2C,EAAQL,cAfV,SAACQ,GACrBF,GAAU,SAACG,GACTA,EAAclK,QAAO,SAACuH,GAAK,OAAKA,EAAMxK,KAAOkN,a,aC5BnD,06MAwBA,ICNIE,ED+HWC,EAzHK,WAClB,IAAMC,EAAUT,cAAYS,QAC5B,EAAoD3L,IAA5CE,EAAO,EAAPA,QAASE,EAAK,EAALA,MAAOI,EAAW,EAAXA,YAAasB,EAAU,EAAVA,WACrC,EAA0B7B,qBAAU,mBAA7B4I,EAAK,KAAE+C,EAAQ,KAChB/F,EAAUC,cACVH,EAAUC,qBAAW7D,GAE3B,EAA0CtC,EACxC,CACEsG,MAAO,CACL1I,MAAO,GACPE,SAAS,GAEX0I,YAAa,CACX5I,MAAO,GACPE,SAAS,KAGb,GACD,mBAZM4I,EAAI,KAAEC,EAAY,KAAEqB,EAAW,KActClJ,qBAAU,YACQ,uCAAG,6GAEQiC,EAAY,GAAD,OAC7BmG,4BAAgC,mBAAWgF,IAC9C,KAAD,EAFKxK,EAAQ,OAIdyK,EAASzK,EAAS0H,OAClBpB,EACE,CACE1B,MAAO,CACL1I,MAAO8D,EAAS0H,MAAM9C,MACtBxI,SAAS,GAEX0I,YAAa,CACX5I,MAAO8D,EAAS0H,MAAM5C,YACtB1I,SAAS,KAGb,GACA,yGAEL,kBArBe,mCAsBhBsO,KACC,CAACrL,EAAamL,EAASlE,IAE1B,IAAMqE,EAAwB,uCAAG,WAAOrN,GAAK,iEAGpB,OAFvBgI,QAAQC,IAAIf,EAAQxD,OAEpB1D,EAAMC,iBAAiB,kBAEf8B,EAAY,GAAD,OACZmG,4BAAgC,mBAAWgF,GAC9C,QACA/D,KAAKC,UAAU,CACb9B,MAAOI,EAAK3G,OAAOuG,MAAM1I,MACzB4I,YAAaE,EAAK3G,OAAOyG,YAAY5I,QAEvC,CACE,eAAgB,mBAChBuJ,cAAe,UAAYjB,EAAQxD,QAErC,KAAD,EACD0D,EAAQ7E,KAAK,IAAM2E,EAAQzD,OAAS,WAAW,yGAElD,gBAnB6B,sCAqB9B,OAAIhC,EAEA,yBAAK1D,UAAU,UACb,kBAAC,EAAc,OAKhBqM,GAAUzI,EAWb,kBAAC,IAAMmD,SAAQ,KACb,kBAAC,EAAU,CAACnD,MAAOA,EAAO6D,QAASnC,KACjC5B,GAAW2I,GACX,0BAAMrM,UAAU,aAAawG,SAAU8I,GACrC,kBAAC,EAAK,CACJzN,GAAG,QACHQ,QAAQ,QACR9B,KAAK,OACLoC,MAAM,WACN7B,WAAY,CzBjHgB,CAAEP,KARX,YyB0HnBqC,UAAU,sBACVd,QAAS8H,EACT/I,MAAOwL,EAAM9C,MACb7H,OAAO,IAET,kBAAC,EAAK,CACJG,GAAG,cACHQ,QAAQ,WACRM,MAAM,mBACN7B,WAAY,CAACJ,EAAoB,IACjCkC,UAAU,uDACVd,QAAS8H,EACT/I,MAAOwL,EAAM5C,YACb/H,OAAO,IAET,kBAAC,EAAM,CAACnB,KAAK,SAASE,UAAWkJ,EAAK5I,SAAS,uBAlCnD,yBAAKf,UAAU,UACb,kBAAC,EAAI,KACH,2BAAG,wBC4BEuP,GAhHH,WACV,IAsDIC,EAtDJ,EAA0B/L,mBAAS,MAAK,mBAAjCkC,EAAK,KAAE8J,EAAQ,KACtB,EAAgChM,qBAAU,mBAAnCiM,EAAQ,KAAEC,EAAW,KAC5B,EAA4BlM,oBAAS,GAAM,mBAApCiC,EAAM,KAAEkK,EAAS,KAElBhK,EAAQvC,uBAAY,SAACsL,EAAKhJ,EAAOkK,GACrCJ,EAAS9J,GAET,IAAMmK,EACJD,GAAW,IAAIE,MAAK,IAAIA,MAAOC,UAAY,MAE7CL,EAAYG,GAEZ7F,QAAQC,IAAIyE,GAEZsB,aAAaC,QACX,WACA9E,KAAKC,UAAU,CACb3F,OAAQiJ,EACRhJ,MAAOA,EACPkK,QAASC,EAAaK,iBAG1BP,EAAUjB,KACT,IAEG9I,EAASxC,uBAAY,WACzB4M,aAAaG,WAAW,YAExBX,EAAS,MACTE,EAAY,MACZC,EAAU,QACT,IA4DH,OA1DA7N,qBAAU,WACR,IAAMsO,EAAiBjF,KAAKkF,MAAML,aAAaM,QAAQ,aAGrDF,GACAA,EAAe1K,OACf,IAAIoK,KAAKM,EAAeR,SAAW,IAAIE,MAEvCnK,EAAMyK,EAAe3K,OAAQ2K,EAAe1K,SAE7C,CAACC,IAEJ7D,qBAAU,WACR,GAAI4D,GAAS+J,EAAU,CACrB,IAAMc,EAAgBd,EAASM,WAAY,IAAID,MAAOC,UACtDf,EAAcwB,WAAW5K,EAAQ2K,QAEjCE,aAAazB,KAEd,CAACtJ,EAAOE,EAAQ6J,IAKjBF,EADE7J,EAEA,kBAAC,IAAMoB,SAAQ,KACb,kBAAC,IAAK,CAAC4J,KAAK,IAAIrQ,OAAK,GACnB,kBAAC,EAAK,OAER,kBAAC,IAAK,CAACqQ,KAAK,eAAerQ,OAAK,GAC9B,kBAAC,EAAU,OAEb,kBAAC,IAAK,CAACqQ,KAAK,WAAWrQ,OAAK,GAC1B,kBAAC,EAAQ,OAEX,kBAAC,IAAK,CAACqQ,KAAK,mBAAmBrQ,OAAK,GAClC,kBAAC,EAAW,OAEd,kBAAC,IAAQ,CAACD,GAAG,OAKf,kBAAC,IAAM0G,SAAQ,KACb,kBAAC,IAAK,CAAC4J,KAAK,IAAIrQ,OAAK,GACnB,kBAAC,EAAK,OAER,kBAAC,IAAK,CAACqQ,KAAK,eAAerQ,OAAK,GAC9B,kBAAC,EAAU,OAEb,kBAAC,IAAK,CAACqQ,KAAK,SACV,kBAAC,EAAI,OAEP,kBAAC,IAAQ,CAACtQ,GAAG,OAMjB,kBAACkF,EAAYqL,SAAQ,CACnB/P,MAAO,CACL4E,WAAYE,EACZA,MAAOA,EACPC,MAAOA,EACPC,OAAQA,EACRH,OAAQA,IAGV,kBAAC,IAAM,KACL,kBAAC,EAAc,MACf,8BACE,kBAAC,IAAM,KAAE8J,OCxHnBzJ,IAAS8K,OAAO,kBAAC,GAAG,MAAK5K,SAASC,eAAe,Y","file":"static/js/main.7adb1e2f.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = props => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || 'default'} ${props.inverse &&\n        'button--inverse'} ${props.danger && 'button--danger'}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};\n","import React, { useReducer, useEffect } from \"react\";\n\nimport { validate } from \"../../Util/validators\";\nimport \"./Input.css\";\n\nconst inputReducer = (state, action) => {\n  switch (action.type) {\n    case \"CHANGE\":\n      return {\n        ...state,\n        value: action.val,\n        isValid: validate(action.val, action.validators),\n      };\n    case \"TOUCH\":\n      return {\n        ...state,\n        isTouch: true,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst Input = (props) => {\n  const [inputState, dispatch] = useReducer(inputReducer, {\n    value: props.value || \"\",\n    isTouch: false,\n    isValid: props.valid || false,\n  });\n\n  const { id, onInput } = props;\n  const { value, isValid } = inputState;\n\n  useEffect(() => {\n    onInput(id, value, isValid);\n  }, [id, value, isValid, onInput]);\n\n  const changeHandler = (event) => {\n    event.preventDefault();\n\n    dispatch({\n      type: \"CHANGE\",\n      val: event.target.value,\n      validators: props.validators,\n    });\n  };\n\n  const touchHandler = () => {\n    dispatch({\n      type: \"TOUCH\",\n    });\n  };\n\n  const element =\n    props.element === \"input\" ? (\n      <input\n        id={props.id}\n        type={props.type}\n        placeholder={props.placeholder}\n        onChange={changeHandler}\n        value={inputState.value}\n        onBlur={touchHandler}\n      />\n    ) : (\n      <textarea\n        id={props.id}\n        rows={props.rows || 3}\n        onChange={changeHandler}\n        value={inputState.value}\n        onBlur={touchHandler}\n      />\n    );\n\n  return (\n    <div\n      className={`form-control ${\n        !inputState.isValid && inputState.isTouch && \"form-control--invalid\"\n      }`}\n    >\n      <label htmlFor={props.id}>{props.label}</label>\n      {element}\n      {!inputState.isValid && inputState.isTouch && <p>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default Input;\n","import { useCallback, useReducer } from 'react';\n\nconst formReducer = (state, action) => {\n  switch (action.type) {\n    case 'INPUT_CHANGE':\n      let formIsValid = true;\n      for (const inputId in state.inputs) {\n        if (!state.inputs[inputId]) {\n          continue;\n        }\n        if (inputId === action.inputId) {\n          formIsValid = formIsValid && action.isValid;\n        } else {\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\n        }\n      }\n      return {\n        ...state,\n        inputs: {\n          ...state.inputs,\n          [action.inputId]: { value: action.value, isValid: action.isValid }\n        },\n        isValid: formIsValid\n      };\n    case 'SET_DATA':\n      return {\n        inputs: action.inputs,\n        isValid: action.formIsValid\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useForm = (initialInputs, initialFormValidity) => {\n  const [formState, dispatch] = useReducer(formReducer, {\n    inputs: initialInputs,\n    isValid: initialFormValidity\n  });\n\n  const inputHandler = useCallback((id, value, isValid) => {\n    dispatch({\n      type: 'INPUT_CHANGE',\n      value: value,\n      isValid: isValid,\n      inputId: id\n    });\n  }, []);\n\n  const setFormData = useCallback((inputData, formValidity) => {\n    dispatch({\n      type: 'SET_DATA',\n      inputs: inputData,\n      formIsValid: formValidity\n    });\n  }, []);\n\n  return [formState, inputHandler, setFormData];\n};","import { useState, useCallback, useRef, useEffect } from \"react\";\n\nexport const useHTTPClient = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState();\n\n  const activeHttpRequest = useRef([]);\n\n  const sendRequest = useCallback(\n    async (url, method = \"GET\", body = null, headers = {}) => {\n      setLoading(true);\n\n      const httpAbortCtrll = new AbortController();\n      activeHttpRequest.current.push(httpAbortCtrll);\n\n      try {\n        const response = await fetch(url, {\n          method,\n          headers,\n          body,\n          signal: httpAbortCtrll.signal,\n        });\n\n        const responseJSON = await response.json();\n\n        activeHttpRequest.current = activeHttpRequest.current.filter(\n          (reqCtrl) => reqCtrl !== httpAbortCtrll\n        );\n\n        if (!response.ok) {\n          throw new Error(responseJSON.message);\n        }\n\n        setLoading(false);\n        setError(false);\n\n        return responseJSON;\n      } catch (error) {\n        setLoading(false);\n        setError(error.message);\n        throw error;\n      }\n    },\n    []\n  );\n\n  const clearError = () => {\n    setError(null);\n  };\n\n  useEffect(() => {\n    // cleanup for next iteration\n    return () => {\n      activeHttpRequest.current.forEach((abortCtrl) => abortCtrl.abort());\n    };\n  }, []);\n\n  return { loading, error, sendRequest, clearError };\n};\n","import { createContext } from \"react\";\n\nexport const AuthContext = createContext({\n  isLogged: false,\n  userID: null,\n  token: null,\n  login: () => {},\n  logout: () => {},\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./Backdrop.css\";\n\nconst Backdrop = (props) => {\n  return ReactDOM.createPortal(\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\n    document.getElementById(\"backdrop-hook\")\n  );\n};\n\nexport default Backdrop;\n","import React from \"react\";\nimport RectDOM from \"react-dom\";\n\nimport Backdrop from \"../Backdrop/Backdrop\";\nimport { CSSTransition } from \"react-transition-group\";\n\nimport \"./Modal.css\";\n\nconst Overlay = (props) => {\n  const content = (\n    <div className={`modal ${props.className}`} style={props.style}>\n      <header className={`modal__header ${props.headerClasse}`}>\n        <h2>{props.header}</h2>\n      </header>\n\n      <form\n        onSubmit={props.onSubmit ? props.onSubmit : (e) => e.preventDefault()}\n      >\n        <div className={`modal__content ${props.contentClass}`}>\n          {props.children}\n        </div>\n\n        <footer className={`modal__footer ${props.footerClass}`}>\n          {props.footer}\n        </footer>\n      </form>\n    </div>\n  );\n  return RectDOM.createPortal(content, document.getElementById(\"modal-hook\"));\n};\n\nconst Modal = (props) => {\n  return (\n    <React.Fragment>\n      {props.show && <Backdrop onClick={props.onCancel} />}\n      <CSSTransition\n        in={props.show}\n        mountOnEnter\n        unmountOnExit\n        timeout={200}\n        classNames=\"modal\"\n      >\n        <Overlay {...props} />\n      </CSSTransition>\n    </React.Fragment>\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\n\nimport Modal from \"./Modal\";\nimport Button from \"../../Form/Button\";\n\nconst ErrorModal = (props) => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport Button from \"./Button\";\n\nimport \"./ImageUpload.css\";\n\nconst ImageUpload = (props) => {\n  const filePickerRef = useRef();\n\n  const [file, setFile] = useState();\n  const [preview, setPreview] = useState();\n  const [valid, setValid] = useState(false);\n\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n    const fileReader = new FileReader();\n\n    fileReader.onload = () => {\n      setPreview(fileReader.result);\n    };\n    fileReader.readAsDataURL(file);\n  }, [file]);\n\n  const pickImageHandler = () => {\n    filePickerRef.current.click();\n  };\n\n  const chosenImageHandler = (event) => {\n    event.preventDefault();\n    let chosenImage;\n    let fileValid = valid;\n    if (event.target.files || event.target.files.length === 1) {\n      chosenImage = event.target.files[0];\n      setFile(chosenImage);\n      setValid(true);\n      fileValid = true;\n    } else {\n      setValid(false);\n      fileValid(false);\n    }\n\n    props.onInput(props.id, chosenImage, fileValid);\n  };\n\n  return (\n    <div className=\"form-control\">\n      <input\n        type=\"file\"\n        id={props.id}\n        style={{ display: \"none\" }}\n        accept=\".jpg, .png, .jpeg\"\n        ref={filePickerRef}\n        onChange={chosenImageHandler}\n      />\n      <div className={`image-upload ${props.center && \"center\"}`}>\n        <div className=\"image-upload__preview\">\n          {preview && <img src={preview} alt=\"Preview\" />}\n          {!preview && <p>Wähle ein Bild aus!</p>}\n        </div>\n        <Button type=\"button\" onClick={pickImageHandler}>\n          Bild auswählen\n        </Button>\n      </div>\n      {!valid && <p>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default ImageUpload;\n","import React, { useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"../../shared/components/Form/Button\";\n\nimport Input from \"../../shared/components/Form/Input\";\nimport { useForm } from \"../../shared/hooks/useForm\";\nimport { useHTTPClient } from \"../../shared/hooks/useHttp\";\nimport { AuthContext } from \"../../shared/context/auth-context\";\n\nimport ErrorModal from \"../../shared/components/UI/Modal/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UI/Loading/LoadingSpinner\";\n\nimport ImageUpload from \"../../shared/components/Form/ImageUpload\";\n\nimport {\n  VALIDATOR_MINLENGTH,\n  VALIDATOR_REQUIRE,\n} from \"../../shared/Util/validators\";\n\nimport \"./PlaceForm.css\";\n\nconst NewPlace = () => {\n  const { loading, error, sendRequest, clearError } = useHTTPClient();\n  const authCtx = useContext(AuthContext);\n  const history = useHistory();\n\n  const [form, inputHandler] = useForm(\n    {\n      title: {\n        value: \"\",\n        isValid: false,\n      },\n      address: {\n        value: \"\",\n        isValid: false,\n      },\n      description: {\n        value: \"\",\n        isValid: false,\n      },\n      image: {\n        value: null,\n        isValid: false,\n      },\n    },\n    false\n  );\n\n  const placeHandler = async (event) => {\n    event.preventDefault();\n\n    try {\n      const formData = new FormData();\n\n      formData.append(\"title\", form.inputs.title.value);\n      formData.append(\"description\", form.inputs.description.value);\n      formData.append(\"creator\", authCtx.userID);\n      formData.append(\"address\", form.inputs.address.value);\n      formData.append(\"image\", form.inputs.image.value);\n\n      console.log(authCtx.token);\n\n      await sendRequest(\n        `${process.env.REACT_APP_BACKENDURL}/places/`,\n        \"POST\",\n        formData,\n        {\n          Authorization: \"Bearer \" + authCtx.token,\n        }\n      );\n      history.push(\"/\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <ErrorModal onClear={clearError} error={error} />\n      <form className=\"place-form\" onSubmit={placeHandler}>\n        {loading && <LoadingSpinner asOverlay />}\n        <Input\n          element=\"input\"\n          id=\"title\"\n          type=\"text\"\n          label=\"Orttitel\"\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Ungültiger Titel\"\n          onInput={inputHandler}\n        />\n        <Input\n          element=\"input\"\n          id=\"address\"\n          type=\"text\"\n          label=\"Adresse\"\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Ungültige Adresse\"\n          onInput={inputHandler}\n        />\n        <Input\n          id=\"description\"\n          label=\"Beschreibung des Ortes\"\n          validators={[VALIDATOR_MINLENGTH(5)]}\n          errorText=\"Die Beschreibung ist zu kurz (mind. 5 Zeichen)\"\n          onInput={inputHandler}\n        />\n        <ImageUpload\n          id=\"image\"\n          onInput={inputHandler}\n          errorText=\"Bitte hänge ein Bild an.\"\n        />\n        <Button type=\"submit\" disabled={!form.isValid}>\n          Hinzufügen\n        </Button>\n      </form>\n    </React.Fragment>\n  );\n};\n\nexport default NewPlace;\n","import React from \"react\";\n\nimport \"./MainHeader.css\";\n\nconst MainHeader = (props) => {\n  return <header className=\"main-header\">{props.children}</header>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { NavLink } from \"react-router-dom\";\n\nimport \"./NavLinks.css\";\n\nimport { AuthContext } from \"../context/auth-context\";\nimport { useContext } from \"react\";\n\n\n\nconst NavLinks = () => {\n  const authCtx = useContext(AuthContext);\n\n  return (\n    <ul className=\"nav-links\">\n      <li>\n        <NavLink to=\"/\" exact>\n          Nutzer\n        </NavLink>\n      </li>\n      {authCtx.isLogged && (\n        <li>\n          <NavLink to={`/${authCtx.userID}/places`}>Meine Orte</NavLink>\n        </li>\n      )}\n      {authCtx.isLogged && (\n        <li>\n          <NavLink to=\"/places/\">Neuen Ort hinzufügen</NavLink>\n        </li>\n      )}\n      {!authCtx.isLogged && (\n        <li>\n          <NavLink to=\"/auth\">Auth</NavLink>\n        </li>\n      )}\n      {authCtx.isLogged && (\n        <li>\n          <button onClick={authCtx.logout}>Abmelden</button>\n        </li>\n      )}\n    </ul>\n  );\n};\n\nexport default NavLinks;\n","import React from \"react\";\n\nimport ReactDOM from \"react-dom\";\n\nimport { CSSTransition } from \"react-transition-group\";\n\nimport \"./SideDrawer.css\";\n\nconst SideDrawer = (props) => {\n  const content = (\n    <CSSTransition\n      in={props.show}\n      timeout={300}\n      classNames=\"slide-in-left\"\n      mountOnEnter\n      unmountOnExit\n    >\n      <aside className=\"side-drawer\" onClick={props.onClick}>\n        {props.children}\n      </aside>\n    </CSSTransition>\n  );\n\n  return ReactDOM.createPortal(\n    content,\n    document.getElementById(\"drawer-portal\")\n  );\n};\n\nexport default SideDrawer;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport MainHeader from \"./MainHeader\";\n\nimport \"./MainNavigation.css\";\nimport NavLinks from \"./NavLinks\";\nimport SideDrawer from \"./SideDrawer\";\nimport Backdrop from \"../../shared/components/UI/Backdrop/Backdrop\";\n\nconst MainNavigation = (props) => {\n  const [drawer, setDrawer] = useState(false);\n\n  const openDrawer = (event) => {\n    event.preventDefault();\n\n    setDrawer(true);\n  };\n\n  const closeDrawer = (event) => {\n    event.preventDefault();\n\n    setDrawer(false);\n  };\n\n  return (\n    <React.Fragment>\n      {drawer && <Backdrop onClick={closeDrawer} />}\n\n      <SideDrawer show={drawer} onClick={closeDrawer}>\n        <nav className=\"main-navigation__drawer-nav\">\n          <NavLinks />\n        </nav>\n      </SideDrawer>\n\n      <MainHeader>\n        <button className=\"main-navigation__menu-btn\" onClick={openDrawer}>\n          <span></span>\n          <span></span>\n          <span></span>\n        </button>\n        <Link to=\"/\">\n          <h1 className=\"main-navigation__title\">Placedisc</h1>\n        </Link>\n        <nav className=\"main-navigation__header-nav\">\n          <NavLinks />\n        </nav>\n      </MainHeader>\n    </React.Fragment>\n  );\n};\n\nexport default MainNavigation;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useState } from \"react\";\nimport Card from \"../../shared/components/UI/Card/Card\";\nimport Input from \"../../shared/components/Form/Input\";\nimport Button from \"../../shared/components/Form/Button\";\nimport {\n  VALIDATOR_EMAIL,\n  VALIDATOR_MINLENGTH,\n  VALIDATOR_REQUIRE,\n} from \"../../shared/Util/validators\";\nimport { useForm } from \"../../shared/hooks/useForm\";\nimport \"./Auth.css\";\n\nimport ErrorModal from \"../../shared/components/UI/Modal/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UI/Loading/LoadingSpinner\";\n\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport { useContext } from \"react\";\n\nimport { useHTTPClient } from \"../../shared/hooks/useHttp\";\nimport ImageUpload from \"../../shared/components/Form/ImageUpload\";\n\nconst Auth = () => {\n  const [form, inputHandler, setFormData] = useForm(\n    {\n      email: {\n        value: \"\",\n        isValid: false,\n      },\n      password: {\n        value: \"\",\n        isValid: false,\n      },\n    },\n    false\n  );\n\n  const [login, setLogin] = useState(true);\n\n  const { loading, error, sendRequest, clearError } = useHTTPClient();\n\n  const authCtx = useContext(AuthContext);\n\n  const switchHandler = () => {\n    if (!login) {\n      setFormData(\n        {\n          ...form.inputs,\n          username: undefined,\n          image: undefined,\n        },\n        form.inputs.email.isValid && form.inputs.password.isValid\n      );\n    } else {\n      setFormData(\n        {\n          ...form.inputs,\n          username: {\n            value: \"\",\n            isValid: false,\n          },\n          image: {\n            value: null,\n            isValid: false,\n          },\n        },\n        false\n      );\n    }\n    setLogin((prevState) => !prevState);\n  };\n\n  // calling backend\n  const authSubmitHandler = async (e) => {\n    e.preventDefault();\n\n    if (login) {\n      try {\n        const response = await sendRequest(\n          `${process.env.REACT_APP_BACKENDURL}/users/login`,\n          \"POST\",\n          JSON.stringify({\n            email: form.inputs.email.value,\n            password: form.inputs.password.value,\n          }),\n          { \"Content-Type\": \"application/json\" }\n        );\n        authCtx.login(response.userID, response.token);\n      } catch (err) {\n        console.log(err);\n      }\n    } else {\n      try {\n        const formData = new FormData();\n        formData.append(\"email\", form.inputs.email.value);\n        formData.append(\"username\", form.inputs.username.value);\n        formData.append(\"password\", form.inputs.password.value);\n        formData.append(\"image\", form.inputs.image.value);\n\n        const response = await sendRequest(\n          `${process.env.REACT_APP_BACKENDURL}/users/signup`,\n          \"POST\",\n          formData\n        );\n\n        authCtx.login(response.userID, response.token);\n      } catch (error) {}\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      <Card className=\"authentication\">\n        {loading && <LoadingSpinner asOverlay />}\n        <h2>{login ? \"Anmeldung\" : \"Registrierung\"}</h2>\n        <hr />\n        <form onSubmit={authSubmitHandler}>\n          {!login && (\n            <Input\n              element=\"input\"\n              id=\"username\"\n              type=\"text\"\n              label=\"Nutzername\"\n              validators={[VALIDATOR_REQUIRE()]}\n              errorText=\"Bitte gebe einen Nutzernamen an.\"\n              onInput={inputHandler}\n            />\n          )}\n          <Input\n            id=\"email\"\n            element=\"input\"\n            type=\"email\"\n            label=\"E-Mail\"\n            validators={[VALIDATOR_EMAIL()]}\n            errorText=\"Bitte eine gültige E-Mail Adresse angeben.\"\n            onInput={inputHandler}\n          />\n          <Input\n            id=\"password\"\n            element=\"input\"\n            type=\"password\"\n            label=\"Passwort\"\n            validators={[VALIDATOR_MINLENGTH(6)]}\n            errorText=\"Bitte eine gültiges Passwort angeben.\"\n            onInput={inputHandler}\n          />\n          {!login && (\n            <ImageUpload\n              center\n              id=\"image\"\n              onInput={inputHandler}\n              errorText=\"Bitte füge ein Profilbild hinzu\"\n            />\n          )}\n          <Button type=\"submit\" disabled={!form.isValid}>\n            {login ? \"Anmelden\" : \"Registrieren\"}\n          </Button>\n        </form>\n        <Button inverse onClick={switchHandler}>\n          {login\n            ? \"Noch kein Konto? Hier registrieren\"\n            : \"Bereits angemeldet? Hier anmelden\"}\n        </Button>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default Auth;\n","import React from 'react';\n\nimport './Avatar.css';\n\nconst Avatar = props => {\n  return (\n    <div className={`avatar ${props.className}`} style={props.style}>\n      <img\n        src={props.image}\n        alt={props.alt}\n        style={{ width: props.width, height: props.width }}\n      />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport Avatar from \"../../shared/components/UI/Avatar/Avatar\";\nimport Card from \"../../shared/components/UI/Card/Card\";\n\nimport \"./UserItem.css\";\n\nconst UserItem = (props) => {\n  return (\n    <li className=\"user-item\">\n      <Card className=\"user-item__content\">\n        <Link to={`/${props.id}/places`}>\n          <div className=\"user-item__image\">\n            <Avatar\n              image={`${process.env.REACT_APP_BACKENDURLALT}/${props.img}`}\n              alt={props.name}\n            />\n          </div>\n          <div className=\"user-item__info\">\n            <h2>{props.name}</h2>\n            <h3>\n              {props.placeCount} {props.placeCount === 1 ? \"Ort:\" : \"Orte\"}\n            </h3>\n          </div>\n        </Link>\n      </Card>\n    </li>\n  );\n};\n\nexport default UserItem;\n","import React from \"react\";\nimport UserItem from \"./UserItem\";\n\nimport \"./UsersList.css\";\n\nimport Card from \"../../shared/components/UI/Card/Card\";\n\nconst UserList = (props) => {\n  if (props.items.length === 0) {\n    return (\n      <Card className=\"center\">\n        <h2>Keine Nutzerkonten gefunden!</h2>\n      </Card>\n    );\n  } else {\n    return (\n      <ul className=\"users-list\">\n        {props.items.map((user) => {\n          return (\n            <UserItem\n              key={user.id}\n              id={user.id}\n              img={user.image}\n              name={user.username}\n              placeCount={user.place.length}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n};\n\nexport default UserList;\n","import React, { useEffect, useState } from \"react\";\n\nimport UserList from \"../components/UserList\";\nimport ErrorModal from \"../../shared/components/UI/Modal/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UI/Loading/LoadingSpinner\";\n\nimport { useHTTPClient } from \"../../shared/hooks/useHttp\";\n\nconst Users = () => {\n  const [user, setUser] = useState();\n  const { loading, error, sendRequest, clearError } = useHTTPClient();\n\n  // use effect for loading users\n  useEffect(() => {\n    const getUserRequest = async () => {\n      try {\n        const response = await sendRequest(`${process.env.REACT_APP_BACKENDURL}/users`);\n\n        setUser(response.users);\n      } catch (error) {}\n    };\n\n    getUserRequest();\n  }, [sendRequest]);\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      {loading && (\n        <div className=\"center\">\n          <LoadingSpinner />\n        </div>\n      )}\n      {!loading && user && <UserList items={user} />}\n    </React.Fragment>\n  );\n};\n\nexport default Users;\n","import React, { useRef, useEffect } from \"react\";\n\nimport \"./Map.css\";\n\nconst Map = (props) => {\n  const mapRef = useRef();\n\n  const { center, zoom } = props;\n\n  useEffect(() => {\n    new window.ol.Map({\n      target: mapRef.current.id,\n      layers: [\n        new window.ol.layer.Tile({\n          source: new window.ol.source.OSM(),\n        }),\n      ],\n      view: new window.ol.View({\n        center: window.ol.proj.fromLonLat([center.lng, center.lat]),\n        zoom: zoom,\n      }),\n    });\n  }, [center, zoom]);\n\n  return (\n    <div\n      ref={mapRef}\n      className={`map ${props.className}`}\n      style={props.style}\n      id=\"map\"\n    ></div>\n  );\n};\n\nexport default Map;\n","import React, { useState } from \"react\";\n\nimport \"./PlaceItem.css\";\n\nimport Modal from \"../../shared/components/UI/Modal/Modal\";\nimport Card from \"../../shared/components/UI/Card/Card\";\nimport Button from \"../../shared/components/Form/Button\";\nimport Map from \"../../shared/components/UI/Map/Map\";\n\nimport ErrorModal from \"../../shared/components/UI/Modal/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UI/Loading/LoadingSpinner\";\n\nimport { AuthContext } from \"../../shared/context/auth-context\";\nimport { useContext } from \"react\";\n\nimport { useHTTPClient } from \"../../shared/hooks/useHttp\";\n\nconst PlaceItem = (props) => {\n  const [map, setMap] = useState(false);\n  const { loading, error, sendRequest, clearError } = useHTTPClient();\n  const [confirm, setConfirm] = useState(false);\n\n  const authCtx = useContext(AuthContext);\n\n  const openMap = () => {\n    setMap(true);\n  };\n\n  const closeMap = () => {\n    setMap(false);\n  };\n\n  const deleteWarning = () => {\n    setConfirm(true);\n  };\n\n  const cancelDeleteWarning = () => {\n    setConfirm(false);\n  };\n\n  const confirmDelete = async () => {\n    setConfirm(false);\n\n    console.log(authCtx.token);\n\n    try {\n      await sendRequest(\n        `${process.env.REACT_APP_BACKENDURL}/places/${props.id}`,\n        \"DELETE\",\n        null,\n        { Authorization: \"Bearer \" + authCtx.token }\n      );\n      props.onDelete(props.id);\n    } catch (error) {}\n  };\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      <Modal\n        show={map}\n        onCancel={closeMap}\n        header={props.address}\n        contentClass=\"place-item__modal-content\"\n        footerClass=\"place-item__modal-actions\"\n        footer={<Button onClick={closeMap}>Schließen</Button>}\n      >\n        <div className=\"map-container\">\n          <Map center={props.coord} zoom={16} />\n        </div>\n      </Modal>\n      <Modal\n        show={confirm}\n        onCancel={cancelDeleteWarning}\n        header=\"Bist du dir sicher?\"\n        footerClass=\"place-item__modal-actions\"\n        footer={\n          <React.Fragment>\n            <Button inverse onClick={cancelDeleteWarning}>\n              Schließen\n            </Button>\n            <Button danger onClick={confirmDelete}>\n              Löschen\n            </Button>\n          </React.Fragment>\n        }\n      >\n        <p>Bist du dir sicher diesen Ort zu löschen?</p>\n      </Modal>\n      <li className=\"place-item\">\n        <Card className=\"place-item__content\">\n          {loading && <LoadingSpinner />}\n          <div className=\"place-item__image\">\n            <img\n              src={`${process.env.REACT_APP_BACKENDURLALT}/${props.image}`}\n              alt={props.title}\n            />\n          </div>\n\n          <div className=\"place-item__info\">\n            <h2>{props.title}</h2>\n            <h3>{props.address}</h3>\n            <p>{props.desc}</p>\n          </div>\n\n          <div className=\"place-item__actions\">\n            <Button inverse onClick={openMap}>\n              Karte anzeigen\n            </Button>\n            {authCtx.userID === props.creator && (\n              <Button to={`/places/${props.id}`}>Ort bearbeiten</Button>\n            )}\n            {authCtx.userID === props.creator && (\n              <Button danger onClick={deleteWarning}>\n                Ort entfernen\n              </Button>\n            )}\n          </div>\n        </Card>\n      </li>\n    </React.Fragment>\n  );\n};\n\nexport default PlaceItem;\n","import React from \"react\";\nimport Card from \"../../shared/components/UI/Card/Card\";\nimport PlaceItem from \"./PlaceItem\";\n\nimport Button from \"../../shared/components/Form/Button\";\n\nimport \"./PlaceList.css\";\n\nconst PlaceList = (props) => {\n  if (props.items.length === 0) {\n    return (\n      <div className=\"place-list center\">\n        <Card>\n          <h2>Keine Orte gefunden</h2>\n          <Button to=\"/places/new\">Neuen Ort hinzufügen</Button>\n        </Card>\n      </div>\n    );\n  }\n\n\n  return (\n    <ul className=\"place-list\">\n      {props.items.map((place) => {\n        return (\n          <PlaceItem\n            key={place.id}\n            id={place.id}\n            image={place.image}\n            title={place.title}\n            desc={place.description}\n            address={place.address}\n            creator={place.creator}\n            coord={place.location}\n            onDelete={props.onDeletePlace}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default PlaceList;\n","import React, { useEffect, useState } from \"react\";\nimport PlaceList from \"../components/PlaceList\";\n\nimport { useParams } from \"react-router-dom\";\nimport { useHTTPClient } from \"../../shared/hooks/useHttp\";\n\nimport ErrorModal from \"../../shared/components/UI/Modal/ErrorModal\";\nimport LoadingSpinner from \"../../shared/components/UI/Loading/LoadingSpinner\";\n\nconst UserPlaces = () => {\n  const userId = useParams().uid;\n  const [places, setPlaces] = useState();\n  const { loading, error, sendRequest, clearError } = useHTTPClient();\n\n  useEffect(() => {\n    const getPlaces = async () => {\n      try {\n        const response = await sendRequest(\n          `${process.env.REACT_APP_BACKENDURL}/places/user/${userId}`\n        );\n        setPlaces(response.places);\n      } catch (error) {}\n    };\n\n    getPlaces();\n  }, [sendRequest, userId]);\n\n  const deleteHandler = (deletedPlace) => {\n    setPlaces((previousPlace) => {\n      previousPlace.filter((place) => place.id !== deletedPlace);\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      {loading && (\n        <div className=\"center\">\n          <LoadingSpinner />\n        </div>\n      )}\n      {!loading && places && (\n        <PlaceList items={places} onDeletePlace={deleteHandler} />\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default UserPlaces;\n","import React, { useEffect, useState, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { useParams } from \"react-router-dom\";\nimport { useForm } from \"../../shared/hooks/useForm\";\n\nimport Input from \"../../shared/components/Form/Input\";\nimport Button from \"../../shared/components/Form/Button\";\nimport Card from \"../../shared/components/UI/Card/Card\";\nimport ErrorModal from \"../../shared/components/UI/Modal/ErrorModal\";\n\nimport LoadingSpinner from \"../../shared/components/UI/Loading/LoadingSpinner\";\n\nimport { useHTTPClient } from \"../../shared/hooks/useHttp\";\n\nimport { AuthContext } from \"../../shared/context/auth-context\";\n\nimport \"./PlaceForm.css\";\n\nimport {\n  VALIDATOR_REQUIRE,\n  VALIDATOR_MINLENGTH,\n} from \"../../shared/Util/validators\";\n\nconst UpdatePlace = () => {\n  const placeId = useParams().placeId;\n  const { loading, error, sendRequest, clearError } = useHTTPClient();\n  const [place, setPlace] = useState();\n  const history = useHistory();\n  const authCtx = useContext(AuthContext);\n\n  const [form, inputHandler, setFormData] = useForm(\n    {\n      title: {\n        value: \"\",\n        isValid: false,\n      },\n      description: {\n        value: \"\",\n        isValid: false,\n      },\n    },\n    true\n  );\n\n  useEffect(() => {\n    const fetchPlace = async () => {\n      try {\n        const response = await sendRequest(\n          `${process.env.REACT_APP_BACKENDURL}/places/${placeId}`\n        );\n\n        setPlace(response.place);\n        setFormData(\n          {\n            title: {\n              value: response.place.title,\n              isValid: true,\n            },\n            description: {\n              value: response.place.description,\n              isValid: true,\n            },\n          },\n          true\n        );\n      } catch (error) {}\n    };\n    fetchPlace();\n  }, [sendRequest, placeId, setFormData]);\n\n  const placeUpdateSubmitHandler = async (event) => {\n    console.log(authCtx.token);\n\n    event.preventDefault();\n    try {\n      await sendRequest(\n        `${process.env.REACT_APP_BACKENDURL}/places/${placeId}`,\n        \"PATCH\",\n        JSON.stringify({\n          title: form.inputs.title.value,\n          description: form.inputs.description.value,\n        }),\n        {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + authCtx.token,\n        }\n      );\n      history.push(\"/\" + authCtx.userID + \"/places\");\n    } catch (err) {}\n  };\n\n  if (loading) {\n    return (\n      <div className=\"center\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  if (!place && !error) {\n    return (\n      <div className=\"center\">\n        <Card>\n          <p>Kein Ort gefunden</p>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      {!loading && place && (\n        <form className=\"place-form\" onSubmit={placeUpdateSubmitHandler}>\n          <Input\n            id=\"title\"\n            element=\"input\"\n            type=\"text\"\n            label=\"Orttitel\"\n            validators={[VALIDATOR_REQUIRE()]}\n            errorText=\"Ungültiger Titel\"\n            onInput={inputHandler}\n            value={place.title}\n            valid={true}\n          />\n          <Input\n            id=\"description\"\n            element=\"textarea\"\n            label=\"Ortsbeschreibung\"\n            validators={[VALIDATOR_MINLENGTH(5)]}\n            errorText=\"Ungültige Ortsbeschreibung (5 Zeichen mindestens)\"\n            onInput={inputHandler}\n            value={place.description}\n            valid={true}\n          />\n          <Button type=\"submit\" disabled={!form.isValid}>\n            Ort aktualisieren\n          </Button>\n        </form>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default UpdatePlace;\n","import React, { useCallback, useState, useEffect } from \"react\";\n\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from \"react-router-dom\";\n\nimport NewPlace from \"./places/pages/NewPlace\";\nimport MainNavigation from \"./shared/Navigation/MainNavigation\";\nimport Auth from \"./user/pages/Auth\";\n\nimport Users from \"./user/pages/Users\";\nimport UserPlaces from \"./places/pages/UserPlaces\";\nimport UpdatePlace from \"./places/pages/UpdatePlace\";\n\nimport { AuthContext } from \"./shared/context/auth-context\";\n\nlet logoutTimer;\n\nconst App = () => {\n  const [token, setToken] = useState(null);\n  const [tokenExp, setTokenExp] = useState();\n  const [userID, setUserID] = useState(false);\n\n  const login = useCallback((uid, token, expDate) => {\n    setToken(token);\n\n    const tokenExpDate =\n      expDate || new Date(new Date().getTime() + 1000 * 60 * 60);\n\n    setTokenExp(tokenExpDate);\n\n    console.log(uid);\n\n    localStorage.setItem(\n      \"userData\",\n      JSON.stringify({\n        userID: uid,\n        token: token,\n        expDate: tokenExpDate.toISOString(),\n      })\n    );\n    setUserID(uid);\n  }, []);\n\n  const logout = useCallback(() => {\n    localStorage.removeItem(\"userData\");\n\n    setToken(null);\n    setTokenExp(null);\n    setUserID(null);\n  }, []);\n\n  useEffect(() => {\n    const userDataStored = JSON.parse(localStorage.getItem(\"userData\"));\n\n    if (\n      userDataStored &&\n      userDataStored.token &&\n      new Date(userDataStored.expDate) > new Date()\n    ) {\n      login(userDataStored.userID, userDataStored.token);\n    }\n  }, [login]);\n\n  useEffect(() => {\n    if (token && tokenExp) {\n      const remainingTime = tokenExp.getTime() - new Date().getTime();\n      logoutTimer = setTimeout(logout, remainingTime);\n    } else {\n      clearTimeout(logoutTimer);\n    }\n  }, [token, logout, tokenExp]);\n\n  let routes;\n\n  if (token) {\n    routes = (\n      <React.Fragment>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:uid/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/places/\" exact>\n          <NewPlace />\n        </Route>\n        <Route path=\"/places/:placeId\" exact>\n          <UpdatePlace />\n        </Route>\n        <Redirect to=\"/\" />\n      </React.Fragment>\n    );\n  } else {\n    routes = (\n      <React.Fragment>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:uid/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/auth\">\n          <Auth />\n        </Route>\n        <Redirect to=\"/\" />\n      </React.Fragment>\n    );\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isLogged: !!token,\n        token: token,\n        login: login,\n        logout: logout,\n        userID: userID,\n      }}\n    >\n      <Router>\n        <MainNavigation />\n        <main>\n          <Switch>{routes}</Switch>\n        </main>\n      </Router>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}